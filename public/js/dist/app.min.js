!function(a){a.fn.running=function(){function b(){var b=a(".animateNum"),c={top:a(window).scrollTop(),bottom:a(window).scrollTop()+a(window).height()};b.each(function(){var b=a(this).attr("data-animateTarget");c.top<=a(this).offset().top+a(this).height()&&c.bottom>=a(this).offset().top&&!a(this).data("start")&&(a(this).data("start",!0),new e({obj:a(this),target:b,totalTime:1e3}))})}function c(){var b=a(".animateBar"),c={top:a(window).scrollTop(),bottom:a(window).scrollTop()+a(window).height()};b.each(function(){var b=a(this).attr("data-animateTarget");c.top<=a(this).offset().top+a(this).height()&&c.bottom>=a(this).offset().top&&!a(this).data("start")&&(a(this).data("start",!0),new f({obj:a(this),target:b,totalTime:1e3}))})}function d(){var b=a(".animatePie"),c={top:a(window).scrollTop(),bottom:a(window).scrollTop()+a(window).height()};b.each(function(){var b=a(this).attr("data-animateTarget");c.top<=a(this).offset().top+a(this).height()&&c.bottom>=a(this).offset().top&&!a(this).data("start")&&(a(this).data("start",!0),new g({obj:a(this),target:b,totalTime:1e3}))})}function e(a){this.obj=a.obj,this.target=a.target.toString(),this.totalTime=a.totalTime||1e3,this.init()}function f(a){this.obj=a.obj,this.target=a.target.toString(),this.totalTime=a.totalTime||1e3,this.init()}function g(a){this.obj=a.obj,this.target=a.target.toString(),this.totalTime=a.totalTime||1e3,this.init()}a(window).bind("scroll",function(){b(),c(),d()}),e.prototype={init:function(){return!!this.target&&void this.animation()},animation:function(){var a=this,b=this.target.indexOf("."),c=0;b>=0&&(c=this.target.length-b-1);var d=this.target.replace(".",""),e=this.totalTime/30|0,f=d/e|0,g=0,h=0;a.timer=setInterval(function(){g++,h+=f,a.obj.html(h/Math.pow(10,c)),g>=e&&(clearInterval(a.timer),a.obj.html(a.target))},30)}},f.prototype={init:function(){return!!this.target&&void this.animation()},animation:function(){var a=this,b=this.target.indexOf("."),c=0;b>=0&&(c=this.target.length-b-1);var d=this.target.replace(".",""),e=this.totalTime/30|0,f=d/e|0,g=0,h=0;a.timer=setInterval(function(){g++,h+=f,a.obj.css("width",h/Math.pow(10,c)+"%"),g>=e&&(clearInterval(a.timer),a.obj.animate({width:a.target+"%"}))},30)}},g.prototype={init:function(){return!!this.target&&void this.animation()},animation:function(){function a(){if(c.obj.find(".pieInner span").html(c.i+1),0==num)return!1;c.i=c.i+1,c.i==num&&clearInterval(c.t1),50==c.i&&(clearInterval(c.t1),num2=num-50,c.t2=setInterval(b,1)),c.obj.find(".pieLeftInner").css("-o-transform","rotate("+3.6*c.i+"deg)"),c.obj.find(".pieLeftInner").css("-moz-transform","rotate("+3.6*c.i+"deg)"),c.obj.find(".pieLeftInner").css("-webkit-transform","rotate("+3.6*c.i+"deg)")}function b(){if(c.obj.find(".pieInner span").html(50+c.j+1),0==num2)return!1;c.j=c.j+1,c.j==num2&&clearInterval(c.t2),50==c.j&&clearInterval(c.t2),c.obj.find(".pieRightInner").css("-o-transform","rotate("+3.6*c.j+"deg)"),c.obj.find(".pieRightInner").css("-moz-transform","rotate("+3.6*c.j+"deg)"),c.obj.find(".pieRightInner").css("-webkit-transform","rotate("+3.6*c.j+"deg)")}var c=this;s=this.totalTime/60|0,r=0,c.i=0,c.count=0,c.j=0,num=c.target,c.t1=setInterval(function(){++r>=s&&(clearInterval(c.timer),a())},30)}}}}(jQuery),jQuery.fn.pagination=function(a,b){return b=jQuery.extend({items_per_page:10,num_display_entries:10,current_page:0,num_edge_entries:0,link_to:"javascript:;",prev_text:"上一页",next_text:"下一页",ellipse_text:"...",prev_show_always:!0,next_show_always:!0,scrollTop:!0,callback:function(){return!1}},b||{}),this.each(function(){function c(){return Math.ceil(a/b.items_per_page)}function d(){var a=Math.ceil(b.num_display_entries/2),d=c(),e=d-b.num_display_entries;return[g>a?Math.max(Math.min(g-a,e),0):0,g>a?Math.min(g+a,d):Math.min(b.num_display_entries,d)]}function e(a,c){g=a,f();var d=b.callback(a,h);return d||(c.stopPropagation?c.stopPropagation():c.cancelBubble=!0),b.scrollTop&&$("body,html").animate({scrollTop:0},200),d}function f(){h.empty();var a=(d(),c()),f=function(a){return function(b){return e(a,b)}},i=function(c,d){if(c=c<0?0:c<a?c:a-1,d=jQuery.extend({text:c+1,classes:""},d||{}),c==g)var e=jQuery("<span class='current' >"+d.text+"</span>");else var e=jQuery("<a>"+d.text+"</a>").bind("click",f(c)).attr("href",b.link_to.replace(/__id__/,c+1));d.classes&&e.addClass(d.classes),h.append(e)};if(b.prev_text&&(g>0||b.prev_show_always)&&i(g-1,{text:b.prev_text,classes:"prev pull-left"}),b.next_text&&(g<a-1||b.next_show_always)&&i(g+1,{text:b.next_text,classes:"next pull-right"}),a>1){var j=g-0,k=jQuery('<div class="centerbox"><input type="text"  readonly="readonly" class="current_page text-center" value="'+(j+1)+'"> <p>/'+a+"</p></div>");h.append(k)}}var g=b.current_page;a=!a||a<0?1:a,b.items_per_page=!b.items_per_page||b.items_per_page<0?1:b.items_per_page;var h=jQuery(this);this.selectPage=function(a){e(a)},this.prevPage=function(){return g>0&&(e(g-1),!0)},this.nextPage=function(){return g<c()-1&&(e(g+1),!0)},f()})},function(a){"function"==typeof define&&define.amd?define("viewer",["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){"use strict";function b(a){return"string"==typeof a}function c(a){return"number"==typeof a&&!isNaN(a)}function d(a){return void 0===a}function e(a,b){var d=[];return c(b)&&d.push(b),d.slice.apply(a,d)}function f(a,b){var c=e(arguments,2);return function(){return a.apply(b,c.concat(e(arguments)))}}function g(a){var b=[],d=a.rotate,e=a.scaleX,f=a.scaleY;return c(d)&&b.push("rotate("+d+"deg)"),c(e)&&c(f)&&b.push("scale("+e+","+f+")"),b.length?b.join(" "):"none"}function h(a){return a.offsetWidth}function i(a){return b(a)?a.replace(/^.*\//,"").replace(/[\?&#].*$/,""):""}function j(a,b){var c;return a.naturalWidth?b(a.naturalWidth,a.naturalHeight):(c=document.createElement("img"),c.onload=function(){b(this.width,this.height)},void(c.src=a.src))}function k(b){var c=b.length,d=0,e=0;return c&&(a.each(b,function(a,b){d+=b.pageX,e+=b.pageY}),d/=c,e/=c),{pageX:d,pageY:e}}function l(a){switch(a){case 2:return v;case 3:return w;case 4:return x}}function m(b,c){this.$element=a(b),this.options=a.extend({},m.DEFAULTS,a.isPlainObject(c)&&c),this.isImg=!1,this.isBuilt=!1,this.isShown=!1,this.isViewed=!1,this.isFulled=!1,this.isPlayed=!1,this.wheeling=!1,this.playing=!1,this.fading=!1,this.tooltiping=!1,this.transitioning=!1,this.action=!1,this.target=!1,this.timeout=!1,this.index=0,this.length=0,this.init()}var n=a(window),o=a(document),p="viewer",q=document.createElement(p),r="viewer-fixed",s="viewer-open",t="viewer-show",u="viewer-hide",v="viewer-hide-xs-down",w="viewer-hide-sm-down",x="viewer-hide-md-down",y="viewer-fade",z="viewer-in",A="viewer-active",B="viewer-invisible",C="viewer-transition",D="viewer-fullscreen-exit",E="img",F="mousedown touchstart pointerdown MSPointerDown",G="mousemove touchmove pointermove MSPointerMove",H="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",I="wheel mousewheel DOMMouseScroll",J="transitionend",K="load."+p,L="keydown."+p,M="click."+p,N="resize."+p,O="build."+p,P="built."+p,Q="show."+p,R="shown."+p,S="hide."+p,T="hidden."+p,U="view."+p,V="viewed."+p,W=void 0!==q.style.transition,X=Math.round,Y=Math.sqrt,Z=Math.abs,$=Math.min,_=Math.max,aa=Number;m.prototype={constructor:m,init:function(){var b=this.options,c=this.$element,d=c.is(E),e=d?c:c.find(E),f=e.length,g=a.proxy(this.ready,this);f&&(a.isFunction(b.build)&&c.one(O,b.build),this.trigger(O).isDefaultPrevented()||(W||(b.transition=!1),this.isImg=d,this.length=f,this.count=0,this.$images=e,this.$body=a("body"),b.inline?(c.one(P,a.proxy(function(){this.view()},this)),e.each(function(){this.complete?g():a(this).one(K,g)})):c.on(M,a.proxy(this.start,this))))},ready:function(){++this.count===this.length&&this.build()},build:function(){var b,c,d,e,f,g,h=this.options,i=this.$element;this.isBuilt||(this.$parent=b=i.parent(),this.$viewer=c=a(m.TEMPLATE),this.$canvas=c.find(".viewer-canvas"),this.$footer=c.find(".viewer-footer"),this.$title=d=c.find(".viewer-title"),this.$toolbar=e=c.find(".viewer-toolbar"),this.$navbar=f=c.find(".viewer-navbar"),this.$button=g=c.find(".viewer-button"),this.$tooltip=c.find(".viewer-tooltip"),this.$player=c.find(".viewer-player"),this.$list=c.find(".viewer-list"),d.addClass(h.title?l(h.title):u),e.addClass(h.toolbar?l(h.toolbar):u),e.find("li[class*=zoom]").toggleClass(B,!h.zoomable),e.find("li[class*=flip]").toggleClass(B,!h.scalable),h.rotatable||e.find("li[class*=rotate]").addClass(B).appendTo(e),f.addClass(h.navbar?l(h.navbar):u),h.inline?(g.addClass("viewer-fullscreen"),c.css("z-index",h.zIndexInline),"static"===b.css("position")&&b.css("position","relative")):(g.addClass("viewer-close"),c.css("z-index",h.zIndex).addClass([r,y,u].join(" "))),i.after(c),h.inline&&(this.render(),this.bind(),this.isShown=!0),this.isBuilt=!0,a.isFunction(h.built)&&i.one(P,h.built),this.trigger(P))},unbuild:function(){var a=this.options,b=this.$element;this.isBuilt&&(a.inline&&b.removeClass(u),this.$viewer.remove())},bind:function(){var b=this.options,c=this.$element;a.isFunction(b.view)&&c.on(U,b.view),a.isFunction(b.viewed)&&c.on(V,b.viewed),this.$viewer.on(M,a.proxy(this.click,this)).on(I,a.proxy(this.wheel,this)),this.$canvas.on(F,a.proxy(this.mousedown,this)),o.on(G,this._mousemove=f(this.mousemove,this)).on(H,this._mouseup=f(this.mouseup,this)).on(L,this._keydown=f(this.keydown,this)),n.on(N,this._resize=f(this.resize,this))},unbind:function(){var b=this.options,c=this.$element;a.isFunction(b.view)&&c.off(U,b.view),a.isFunction(b.viewed)&&c.off(V,b.viewed),this.$viewer.off(M,this.click).off(I,this.wheel),this.$canvas.off(F,this.mousedown),o.off(G,this._mousemove).off(H,this._mouseup).off(L,this._keydown),n.off(N,this._resize)},render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.container={width:n.innerWidth(),height:n.innerHeight()}},initViewer:function(){var b,c=this.options,d=this.$parent;c.inline&&(this.parent=b={width:_(d.width(),c.minWidth),height:_(d.height(),c.minHeight)}),(this.isFulled||!b)&&(b=this.container),this.viewer=a.extend({},b)},renderViewer:function(){this.options.inline&&!this.isFulled&&this.$viewer.css(this.viewer)},initList:function(){var c=this.options,d=this.$element,e=this.$list,f=[];this.$images.each(function(d){var e=this.src,g=this.alt||i(e),h=c.url;e&&(b(h)?h=this.getAttribute(h):a.isFunction(h)&&(h=h.call(this,this)),f.push('<li><img src="'+e+'" data-action="view" data-index="'+d+'" data-original-url="'+(h||e)+'" alt="'+g+'"></li>'))}),e.html(f.join("")).find(E).one(K,{filled:!0},a.proxy(this.loadImage,this)),this.$items=e.children(),c.transition&&d.one(V,function(){e.addClass(C)})},renderList:function(a){var b=a||this.index,c=this.$items.eq(b).width(),d=c+1;this.$list.css({width:d*this.length,marginLeft:(this.viewer.width-c)/2-d*b})},resetList:function(){this.$list.empty().removeClass(C).css("margin-left",0)},initImage:function(b){var c=this.options,d=this.$image,e=this.viewer,f=this.$footer.height(),g=e.width,h=_(e.height-f,f),i=this.image||{};j(d[0],a.proxy(function(d,e){var f,j,k=d/e,l=g,m=h;h*k>g?m=g/k:l=h*k,l=$(.9*l,d),m=$(.9*m,e),j={naturalWidth:d,naturalHeight:e,aspectRatio:k,ratio:l/d,width:l,height:m,left:(g-l)/2,top:(h-m)/2},f=a.extend({},j),c.rotatable&&(j.rotate=i.rotate||0,f.rotate=0),c.scalable&&(j.scaleX=i.scaleX||1,j.scaleY=i.scaleY||1,f.scaleX=1,f.scaleY=1),this.image=j,this.initialImage=f,a.isFunction(b)&&b()},this))},renderImage:function(b){var c=this.image,d=this.$image;d.css({width:c.width,height:c.height,marginLeft:c.left,marginTop:c.top,transform:g(c)}),a.isFunction(b)&&(this.transitioning?d.one(J,b):b())},resetImage:function(){this.$image.remove(),this.$image=null},start:function(b){var c=b.target;a(c).is("img")&&(this.target=c,this.show())},click:function(b){var c=a(b.target),d=c.data("action"),e=this.image;switch(d){case"mix":this.isPlayed?this.stop():this.options.inline?this.isFulled?this.exit():this.full():this.hide();break;case"view":this.view(c.data("index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev();break;case"play":this.play();break;case"next":this.next();break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-e.scaleX||-1);break;case"flip-vertical":this.scaleY(-e.scaleY||-1);break;default:this.isPlayed&&this.stop()}},load:function(){var b=this.options,c=this.viewer,d=this.$image;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),d.removeClass(B).css("cssText","width:0;height:0;margin-left:"+c.width/2+"px;margin-top:"+c.height/2+"px;max-width:none!important;visibility:visible;"),this.initImage(a.proxy(function(){d.toggleClass(C,b.transition).toggleClass("viewer-move",b.movable),this.renderImage(a.proxy(function(){this.isViewed=!0,this.trigger(V)},this))},this))},loadImage:function(b){var c=b.target,d=a(c),e=d.parent(),f=e.width(),g=e.height(),h=b.data&&b.data.filled;j(c,function(a,b){var c=a/b,e=f,i=g;g*c>f?h?e=g*c:i=f/c:h?i=f/c:e=g*c,d.css({width:e,height:i,marginLeft:(f-e)/2,marginTop:(g-i)/2})})},resize:function(){this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.initImage(a.proxy(function(){this.renderImage()},this)),this.isPlayed&&this.$player.find(E).one(K,a.proxy(this.loadImage,this)).trigger(K)},wheel:function(b){var c=b.originalEvent||b,d=aa(this.options.zoomRatio)||.1,e=1;this.isViewed&&(b.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(a.proxy(function(){this.wheeling=!1},this),50),c.deltaY?e=c.deltaY>0?1:-1:c.wheelDelta?e=-c.wheelDelta/120:c.detail&&(e=c.detail>0?1:-1),this.zoom(-e*d,!0,b)))},keydown:function(a){var b=this.options,c=a.which;if(this.isFulled&&b.keyboard)switch(c){case 27:this.isPlayed?this.stop():b.inline?this.isFulled&&this.exit():this.hide();break;case 32:this.isPlayed&&this.stop();break;case 37:this.prev();break;case 38:a.preventDefault(),this.zoom(b.zoomRatio,!0);break;case 39:this.next();break;case 40:a.preventDefault(),this.zoom(-b.zoomRatio,!0);break;case 48:case 49:(a.ctrlKey||a.shiftKey)&&(a.preventDefault(),this.toggle())}},mousedown:function(a){var b,c=this.options,d=a.originalEvent,e=d&&d.touches,f=a,g=!!c.movable&&"move";if(this.isViewed){if(e){if((b=e.length)>1){if(!c.zoomable||2!==b)return;f=e[1],this.startX2=f.pageX,this.startY2=f.pageY,g="zoom"}else this.isSwitchable()&&(g="switch");f=e[0]}g&&(a.preventDefault(),this.action=g,this.startX=f.pageX||d&&d.pageX,this.startY=f.pageY||d&&d.pageY)}},mousemove:function(a){var b,c=this.options,d=this.action,e=this.$image,f=a.originalEvent,g=f&&f.touches,h=a;if(this.isViewed){if(g){if((b=g.length)>1){if(!c.zoomable||2!==b)return;h=g[1],this.endX2=h.pageX,this.endY2=h.pageY}h=g[0]}d&&(a.preventDefault(),"move"===d&&c.transition&&e.hasClass(C)&&e.removeClass(C),this.endX=h.pageX||f&&f.pageX,this.endY=h.pageY||f&&f.pageY,this.change(a))}},mouseup:function(a){var b=this.action;b&&(a.preventDefault(),"move"===b&&this.options.transition&&this.$image.addClass(C),this.action=!1)},show:function(){var b,c=this.options;c.inline||this.transitioning||(this.isBuilt||this.build(),a.isFunction(c.show)&&this.$element.one(Q,c.show),this.trigger(Q).isDefaultPrevented()||(this.$body.addClass(s),b=this.$viewer.removeClass(u),this.$element.one(R,a.proxy(function(){this.view(this.target?this.$images.index(this.target):this.index),this.target=!1},this)),c.transition?(this.transitioning=!0,b.addClass(C),h(b[0]),b.one(J,a.proxy(this.shown,this)).addClass(z)):(b.addClass(z),this.shown())))},hide:function(){var b=this.options,c=this.$viewer;b.inline||this.transitioning||!this.isShown||(a.isFunction(b.hide)&&this.$element.one(S,b.hide),this.trigger(S).isDefaultPrevented()||(this.isViewed&&b.transition?(this.transitioning=!0,this.$image.one(J,a.proxy(function(){c.one(J,a.proxy(this.hidden,this)).removeClass(z)},this)),this.zoomTo(0,!1,!1,!0)):(c.removeClass(z),this.hidden())))},view:function(b){var c,d,e,f,g,h=this.$title;b=Number(b)||0,!this.isShown||this.isPlayed||0>b||b>=this.length||this.isViewed&&b===this.index||this.trigger(U).isDefaultPrevented()||(d=this.$items.eq(b),e=d.find(E),f=e.data("originalUrl"),g=e.attr("alt"),this.$image=c=a('<img src="'+f+'" alt="'+g+'">'),this.isViewed&&this.$items.eq(this.index).removeClass(A),d.addClass(A),this.isViewed=!1,this.index=b,this.image=null,this.$canvas.html(c.addClass(B)),this.renderList(),h.empty(),this.$element.one(V,a.proxy(function(){var a=this.image,b=a.naturalWidth,c=a.naturalHeight;h.html(g+" ("+b+" &times; "+c+")")},this)),c[0].complete?this.load():(c.one(K,a.proxy(this.load,this)),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(a.proxy(function(){c.removeClass(B),this.timeout=!1},this),1e3)))},prev:function(){this.view(_(this.index-1,0))},next:function(){this.view($(this.index+1,this.length-1))},move:function(a,b){var c=this.image;this.moveTo(d(a)?a:c.left+aa(a),d(b)?b:c.top+aa(b))},moveTo:function(a,b){var e=this.image,f=!1;d(b)&&(b=a),a=aa(a),b=aa(b),this.isViewed&&!this.isPlayed&&this.options.movable&&(c(a)&&(e.left=a,f=!0),c(b)&&(e.top=b,f=!0),f&&this.renderImage())},zoom:function(a,b,c){var d=this.image;a=aa(a),a=0>a?1/(1-a):1+a,this.zoomTo(d.width*a/d.naturalWidth,b,c)},zoomTo:function(a,b,d,e){var f,g,h,i,j,l=this.options,m=.01,n=100,o=this.image,p=o.width,q=o.height;a=_(0,a),c(a)&&this.isViewed&&!this.isPlayed&&(e||l.zoomable)&&(e||(m=_(m,l.minZoomRatio),n=$(n,l.maxZoomRatio),a=$(_(a,m),n)),a>.95&&1.05>a&&(a=1),g=o.naturalWidth*a,h=o.naturalHeight*a,d&&(f=d.originalEvent)?(i=this.$viewer.offset(),j=f.touches?k(f.touches):{pageX:d.pageX||f.pageX||0,pageY:d.pageY||f.pageY||0},o.left-=(g-p)*((j.pageX-i.left-o.left)/p),o.top-=(h-q)*((j.pageY-i.top-o.top)/q)):(o.left-=(g-p)/2,o.top-=(h-q)/2),o.width=g,o.height=h,o.ratio=a,this.renderImage(),b&&this.tooltip())},rotate:function(a){this.rotateTo((this.image.rotate||0)+aa(a))},rotateTo:function(a){var b=this.image;a=aa(a),c(a)&&this.isViewed&&!this.isPlayed&&this.options.rotatable&&(b.rotate=a,this.renderImage())},scale:function(a,b){var e=this.image,f=!1;d(b)&&(b=a),a=aa(a),b=aa(b),this.isViewed&&!this.isPlayed&&this.options.scalable&&(c(a)&&(e.scaleX=a,f=!0),c(b)&&(e.scaleY=b,f=!0),f&&this.renderImage())},scaleX:function(a){this.scale(a,this.image.scaleY)},scaleY:function(a){this.scale(this.image.scaleX,a)},play:function(){var b,d=this.options,e=this.$player,f=a.proxy(this.loadImage,this),g=[],h=0,i=0;this.isShown&&!this.isPlayed&&(d.fullscreen&&this.requestFullscreen(),this.isPlayed=!0,e.addClass(t),this.$items.each(function(b){var c=a(this),j=c.find(E),k=a('<img src="'+j.data("originalUrl")+'" alt="'+j.attr("alt")+'">');h++,k.addClass(y).toggleClass(C,d.transition),c.hasClass(A)&&(k.addClass(z),i=b),g.push(k),k.one(K,{filled:!1},f),e.append(k)}),c(d.interval)&&d.interval>0&&(b=a.proxy(function(){this.playing=setTimeout(function(){g[i].removeClass(z),i++,i=h>i?i:0,g[i].addClass(z),b()},d.interval)},this),h>1&&b()))},stop:function(){this.isPlayed&&(this.options.fullscreen&&this.exitFullscreen(),this.isPlayed=!1,clearTimeout(this.playing),this.$player.removeClass(t).empty())},full:function(){var b=this.options,c=this.$image,d=this.$list;this.isShown&&!this.isPlayed&&!this.isFulled&&b.inline&&(this.isFulled=!0,this.$body.addClass(s),this.$button.addClass(D),b.transition&&(c.removeClass(C),d.removeClass(C)),this.$viewer.addClass(r).removeAttr("style").css("z-index",b.zIndex),this.initContainer(),this.viewer=a.extend({},this.container),this.renderList(),this.initImage(a.proxy(function(){this.renderImage(function(){b.transition&&setTimeout(function(){c.addClass(C),d.addClass(C)},0)})},this)))},exit:function(){var b=this.options,c=this.$image,d=this.$list;this.isFulled&&(this.isFulled=!1,this.$body.removeClass(s),this.$button.removeClass(D),b.transition&&(c.removeClass(C),d.removeClass(C)),this.$viewer.removeClass(r).css("z-index",b.zIndexInline),this.viewer=a.extend({},this.parent),this.renderViewer(),this.renderList(),this.initImage(a.proxy(function(){this.renderImage(function(){b.transition&&setTimeout(function(){c.addClass(C),d.addClass(C)},0)})},this)))},tooltip:function(){var b=this.options,c=this.$tooltip,d=this.image,e=[t,y,C].join(" ");this.isViewed&&!this.isPlayed&&b.tooltip&&(c.text(X(100*d.ratio)+"%"),this.tooltiping?clearTimeout(this.tooltiping):b.transition?(this.fading&&c.trigger(J),c.addClass(e),h(c[0]),c.addClass(z)):c.addClass(t),this.tooltiping=setTimeout(a.proxy(function(){b.transition?(c.one(J,a.proxy(function(){c.removeClass(e),this.fading=!1},this)).removeClass(z),this.fading=!0):c.removeClass(t),this.tooltiping=!1},this),1e3))},toggle:function(){1===this.image.ratio?this.zoomTo(this.initialImage.ratio,!0):this.zoomTo(1,!0)},reset:function(){this.isViewed&&!this.isPlayed&&(this.image=a.extend({},this.initialImage),this.renderImage())},update:function(){var b,c=this.$element,d=this.$images,e=[];if(this.isImg){if(!c.parent().length)return this.destroy()}else this.$images=d=c.find(E),this.length=d.length;this.isBuilt&&(a.each(this.$items,function(b){var c=a(this).find("img")[0],f=d[b];f?f.src!==c.src&&e.push(b):e.push(b)}),this.$list.width("auto"),this.initList(),this.isShown&&(this.length?this.isViewed&&(b=a.inArray(this.index,e),b>=0?(this.isViewed=!1,this.view(_(this.index-(b+1),0))):this.$items.eq(this.index).addClass(A)):(this.$image=null,this.isViewed=!1,this.index=0,this.image=null,this.$canvas.empty(),this.$title.empty())))},destroy:function(){var a=this.$element;this.options.inline?this.unbind():(this.isShown&&this.unbind(),a.off(M,this.start)),this.unbuild(),a.removeData(p)},trigger:function(b,c){var d=a.Event(b,c);return this.$element.trigger(d),d},shown:function(){var b=this.options;this.transitioning=!1,this.isFulled=!0,this.isShown=!0,this.isVisible=!0,this.render(),this.bind(),a.isFunction(b.shown)&&this.$element.one(R,b.shown),this.trigger(R)},hidden:function(){var b=this.options;this.transitioning=!1,this.isViewed=!1,this.isFulled=!1,this.isShown=!1,this.isVisible=!1,this.unbind(),this.$body.removeClass(s),this.$viewer.addClass(u),this.resetList(),this.resetImage(),a.isFunction(b.hidden)&&this.$element.one(T,b.hidden),this.trigger(T)},requestFullscreen:function(){var a=document.documentElement;!this.isFulled||document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))},exitFullscreen:function(){this.isFulled&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},change:function(a){var b=this.endX-this.startX,c=this.endY-this.startY;switch(this.action){case"move":this.move(b,c);break;case"zoom":this.zoom(function(a,b,c,d){var e=Y(a*a+b*b);return(Y(c*c+d*d)-e)/e}(Z(this.startX-this.startX2),Z(this.startY-this.startY2),Z(this.endX-this.endX2),Z(this.endY-this.endY2)),!1,a),this.startX2=this.endX2,this.startY2=this.endY2;break;case"switch":this.action="switched",Z(b)>Z(c)&&(b>1?this.prev():-1>b&&this.next())}this.startX=this.endX,this.startY=this.endY},isSwitchable:function(){var a=this.image,b=this.viewer;return a.left>=0&&a.top>=0&&a.width<=b.width&&a.height<=b.height}},m.DEFAULTS={inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,interval:5e3,minWidth:200,minHeight:100,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,zIndex:2015,zIndexInline:0,url:"src",build:null,built:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null},m.TEMPLATE='<div class="viewer-container"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><ul class="viewer-toolbar"><li class="viewer-zoom-in" data-action="zoom-in"></li><li class="viewer-zoom-out" data-action="zoom-out"></li><li class="viewer-one-to-one" data-action="one-to-one"></li><li class="viewer-reset" data-action="reset"></li><li class="viewer-prev" data-action="prev"></li><li class="viewer-play" data-action="play"></li><li class="viewer-next" data-action="next"></li><li class="viewer-rotate-left" data-action="rotate-left"></li><li class="viewer-rotate-right" data-action="rotate-right"></li><li class="viewer-flip-horizontal" data-action="flip-horizontal"></li><li class="viewer-flip-vertical" data-action="flip-vertical"></li></ul><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div class="viewer-button" data-action="mix"></div><div class="viewer-player"></div></div>',m.other=a.fn.viewer,a.fn.viewer=function(c){var f,g=e(arguments,1);return this.each(function(){var d,e=a(this),h=e.data(p);if(!h){if(/destroy|hide|exit|stop|reset/.test(c))return;e.data(p,h=new m(this,c))}b(c)&&a.isFunction(d=h[c])&&(f=d.apply(h,g))}),d(f)?this:f},a.fn.viewer.Constructor=m,a.fn.viewer.setDefaults=m.setDefaults,a.fn.viewer.noConflict=function(){return a.fn.viewer=m.other,this}}),function(a){function b(a){if("string"==typeof a){var b=a.indexOf("_");-1!=b&&(a=a.substr(b+1))}return a}function c(c,d){c.preventDefault(),void 0===d&&(d=a(this));var f=b(d.attr("data-id")),g=e[f];g.next.off(),g.prev.off(),g.viewport.off("touchend"),"yes"===g.options.autoscroll&&a.fn.als("stop",f),a.fn.als("next",f),"yes"===g.options.autoscroll&&a.fn.als("start",f)}function d(c,d){c.preventDefault(),void 0===d&&(d=a(this));var f=b(d.attr("data-id")),g=e[f];g.prev.off(),g.next.off(),g.viewport.off("touchend"),"yes"===g.options.autoscroll&&a.fn.als("stop",f),a.fn.als("prev",f),"yes"===g.options.autoscroll&&a.fn.als("start",f)}var e=[],f=0,g={init:function(b){this.each(function(){var g={visible_items:3,scrolling_items:1,orientation:"horizontal",circular:"no",autoscroll:"no",interval:4e3,speed:600,easing:"swing",direction:"left",start_from:0},h=a(this),i=h.data("als"),j=a(),k=a(),l=a(),m=a(),n=a(),o=a(),p=0,q=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C={};switch(C.swipeTreshold=100,C.allowedTime=300,j=a.extend(g,b),"no"==j.circular&&"yes"==j.autoscroll&&(j.circular="yes"),("linear"!=j.easing||"swing"!=j.easing)&&(j.easing="swing"),h.attr("id")&&""!=h.attr("id")||h.attr("id","als-container_"+f),h.attr("data-id","als-container_"+f),m=h.find(".als-viewport").attr("data-id","als-viewport_"+f),l=h.find(".als-wrapper").attr("data-id","als-wrapper_"+f),k=h.find(".als-item"),p=k.size(),j.visible_items>p&&(j.visible_items=p-1),j.scrolling_items>j.visible_items&&(j.visible_items>1?j.scrolling_items=j.visible_items-1:1===j.visible_items&&(j.scrolling_items=j.visible_items)),j.start_from>p-j.visible_items&&(j.start_from=0),n=h.find(".als-prev").attr("data-id","als-prev_"+f),o=h.find(".als-next").attr("data-id","als-next_"+f),j.orientation){case"horizontal":default:if(k.each(function(b){a(this).attr("id","als-item_"+f+"_"+b),s+=a(this).outerWidth(!0),a(this).outerHeight(!0)>w&&(w=a(this).outerHeight(!0)),y<j.visible_items&&(0==j.start_from?(q+=a(this).outerWidth(!0),y++):b>=j.start_from&&(q+=a(this).outerWidth(!0),y++)),0!=j.start_from&&(z<j.start_from&&(v+=a(this).outerWidth(!0),z++),A=j.start_from)}),l.css("width",s),k.css("left",-v),m.css("width",q),l.css("height",w),m.css("height",w),"yes"==j.circular&&0!=j.start_from)for(r=0;r<j.start_from;r++){var D=k.last().position(),E=D.left+k.last().outerWidth(!0);k.eq(r).css("left",E)}break;case"vertical":if(k.each(function(b){a(this).attr("id","als-item_"+f+"_"+b),u+=a(this).outerHeight(!0),a(this).outerWidth(!0)>x&&(x=a(this).outerWidth(!0)),y<j.visible_items&&(0==j.start_from?(t+=a(this).outerHeight(!0),y++):b>=j.start_from&&(t+=a(this).outerHeight(!0),y++)),0!=j.start_from&&(z<j.start_from&&(v+=a(this).outerHeight(!0),z++),A=j.start_from)}),l.css("height",u),k.css("top",-v),m.css("height",t),l.css("width",x),m.css("width",x),"yes"==j.circular&&0!=j.start_from)for(r=0;r<j.start_from;r++){var D=k.last().position(),F=D.top+k.last().outerHeight(!0);k.eq(r).css("top",F)}}return"no"==j.circular&&(0==j.start_from&&n.css("display","none"),j.visible_items+j.start_from==p&&o.css("display","none")),o.on("click touchstart touchend",c),n.on("click touchstart touchend",d),m.on("touchstart",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];C.ox=b.pageX,C.oy=b.pageY,C.startTime=(new Date).getTime()}),m.on("touchmove",function(){}),m.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];C.dx=b.pageX-C.ox,C.dy=b.pageY-C.oy,C.endTime=(new Date).getTime()-C.startTime,"horizontal"==j.orientation?C.dx<-C.swipeTreshold&&C.endTime<C.allowedTime?("yes"==j.circular||j.visible_items+j.start_from<p)&&c(a,m):C.dx>C.swipeTreshold&&C.endTime<C.allowedTime&&("yes"==j.circular||j.start_from>0)&&d(a,m):C.dy<-C.swipeTreshold&&C.endTime<C.allowedTime?("yes"==j.circular||j.visible_items+j.start_from<p)&&c(a,m):C.dy>C.swipeTreshold&&C.endTime<C.allowedTime&&("yes"==j.circular||j.start_from>0)&&d(a,m)}),h.data("als",{container:h,instance:f,options:j,viewport:m,wrapper:l,prev:n,next:o,item:k,num_items:p,wrapper_width:s,viewport_width:q,wrapper_height:u,viewport_height:t,current:A,timer:B,mm:C}),i=h.data("als"),e[f]=i,"yes"==j.autoscroll?(a.fn.als("start",f),l.hover(function(){a.fn.als("stop",a(this).attr("data-id"))},function(){a.fn.als("start",a(this).attr("data-id"))})):"no"==j.autoscroll&&a.fn.als("stop",f),f++,e})},next:function(a){a=b(a);var f=e[a],g=f.mm,h=0,i=0;switch(f.options.orientation){case"horizontal":default:var j=0,k=0;switch(f.options.circular){case"no":default:for(h=f.current;h<f.current+f.options.scrolling_items;h++)j+=f.item.eq(h).outerWidth(!0);for(f.current+=f.options.scrolling_items,i=f.current;i<f.current+f.options.visible_items;i++)k+=f.item.eq(i).outerWidth(!0);f.viewport.animate({width:k},f.options.speed,f.options.easing),f.item.animate({left:"-="+j},f.options.speed,f.options.easing),f.item.promise().done(function(){f.next.on("click touchstart touchend",c),f.prev.on("click touchstart touchend",d),f.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];g.dx=b.pageX-g.ox,g.dy=b.pageY-g.oy,g.endTime=(new Date).getTime()-g.startTime,"horizontal"==f.options.orientation?g.dx<-g.swipeTreshold&&g.endTime<g.allowedTime?f.current+f.options.visible_items<f.num_items&&c(a,f.viewport):g.dx>g.swipeTreshold&&g.endTime<g.allowedTime&&f.current>0&&d(a,f.viewport):g.dy<-g.swipeTreshold&&g.endTime<g.allowedTime?f.current+f.options.visible_items<f.num_items&&c(a,f.viewport):g.dy>g.swipeTreshold&&g.endTime<g.allowedTime&&f.current>0&&d(a,f.viewport)})}),f.current>0&&f.prev.show(),f.current+f.options.visible_items>=f.num_items&&f.next.hide();break;case"yes":var l=0,m=[];for(h=f.current;h<f.current+f.options.scrolling_items;h++){var n=h;h>=f.num_items&&(n=h-f.num_items),j+=f.item.eq(n).outerWidth(!0),m[l]=n,l++}for(f.current+=f.options.scrolling_items,f.current>=f.num_items&&(f.current-=f.num_items),i=f.current;i<f.current+f.options.visible_items;i++){var o=i;i>=f.num_items&&(o=i-f.num_items),k+=f.item.eq(o).outerWidth(!0)}f.viewport.animate({width:k},f.options.speed,f.options.easing),f.item.animate({left:"-="+j},f.options.speed,f.options.easing),f.item.promise().done(function(){var a=f.item.last().position(),b=a.left+f.item.last().outerWidth(!0);for(k5=0;k5<m.length;k5++){if(0==m[k5])var a=f.item.last().position(),b=a.left+f.item.last().outerWidth(!0);f.item.eq(m[k5]).css("left",b)}f.next.on("click touchstart touchend",c),f.prev.on("click touchstart touchend",d),f.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];g.dx=b.pageX-g.ox,g.dy=b.pageY-g.oy,g.endTime=(new Date).getTime()-g.startTime,"horizontal"==f.options.orientation?g.dx<-g.swipeTreshold&&g.endTime<g.allowedTime?c(a,f.viewport):g.dx>g.swipeTreshold&&g.endTime<g.allowedTime&&d(a,f.viewport):g.dy<-g.swipeTreshold&&g.endTime<g.allowedTime?c(a,f.viewport):g.dy>g.swipeTreshold&&g.endTime<g.allowedTime&&d(a,f.viewport)})})}break;case"vertical":var p=0,q=0;switch(f.options.circular){case"no":default:for(h=f.current;h<f.current+f.options.scrolling_items;h++)p+=f.item.eq(h).outerHeight(!0);for(f.current+=f.options.scrolling_items,i=f.current;i<f.current+f.options.visible_items;i++)q+=f.item.eq(i).outerHeight(!0);f.viewport.animate({height:q},f.options.speed,f.options.easing),f.item.animate({top:"-="+p},f.options.speed,f.options.easing),f.item.promise().done(function(){f.next.on("click touchstart touchend",c),f.prev.on("click touchstart touchend",d),f.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];g.dx=b.pageX-g.ox,g.dy=b.pageY-g.oy,g.endTime=(new Date).getTime()-g.startTime,"horizontal"==f.options.orientation?g.dx<-g.swipeTreshold&&g.endTime<g.allowedTime?f.current+f.options.visible_items<f.num_items&&c(a,f.viewport):g.dx>g.swipeTreshold&&g.endTime<g.allowedTime&&f.current>0&&d(a,f.viewport):g.dy<-g.swipeTreshold&&g.endTime<g.allowedTime?f.current+f.options.visible_items<f.num_items&&c(a,f.viewport):g.dy>g.swipeTreshold&&g.endTime<g.allowedTime&&f.current>0&&d(a,f.viewport)})}),f.current>0&&f.prev.show(),f.current+f.options.visible_items>=f.num_items&&f.next.hide();break;case"yes":var l=0,m=[];for(h=f.current;h<f.current+f.options.scrolling_items;h++){var n=h;h>=f.num_items&&(n=h-f.num_items),p+=f.item.eq(n).outerHeight(!0),m[l]=n,l++}for(f.current+=f.options.scrolling_items,f.current>=f.num_items&&(f.current-=f.num_items),i=f.current;i<f.current+f.options.visible_items;i++){var o=i;i>=f.num_items&&(o=i-f.num_items),q+=f.item.eq(o).outerHeight(!0)}f.viewport.animate({height:q}),f.item.animate({top:"-="+p}),f.item.promise().done(function(){var a=f.item.last().position(),b=a.top+f.item.last().outerHeight(!0);for(k5=0;k5<m.length;k5++){if(0==m[k5])var a=f.item.last().position(),b=a.top+f.item.last().outerHeight(!0);f.item.eq(m[k5]).css("top",b)}f.next.on("click touchstart touchend",c),f.prev.on("click touchstart touchend",d),f.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];g.dx=b.pageX-g.ox,g.dy=b.pageY-g.oy,g.endTime=(new Date).getTime()-g.startTime,"horizontal"==f.options.orientation?g.dx<-g.swipeTreshold&&g.endTime<g.allowedTime?c(a,f.viewport):g.dx>g.swipeTreshold&&g.endTime<g.allowedTime&&d(a,f.viewport):g.dy<-g.swipeTreshold&&g.endTime<g.allowedTime?c(a,f.viewport):g.dy>g.swipeTreshold&&g.endTime<g.allowedTime&&d(a,f.viewport)})})}}return e[a]=f,e},prev:function(a){a=b(a);var f=e[a],g=f.mm,h=0,i=0;switch(f.options.orientation){case"horizontal":default:var j=0,k=0;switch(f.options.circular){case"no":default:for(f.current-=f.options.scrolling_items,h=f.current;h<f.current+f.options.scrolling_items;h++)j+=f.item.eq(h).outerWidth(!0);for(i=f.current;i<f.current+f.options.visible_items;i++)k+=f.item.eq(i).outerWidth(!0);f.viewport.animate({width:k}),f.item.animate({left:"+="+j},f.options.speed,f.options.easing),f.item.promise().done(function(){f.next.on("click touchstart touchend",c),f.prev.on("click touchstart touchend",d),f.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];g.dx=b.pageX-g.ox,g.dy=b.pageY-g.oy,g.endTime=(new Date).getTime()-g.startTime,"horizontal"==f.options.orientation?g.dx<-g.swipeTreshold&&g.endTime<g.allowedTime?f.current+f.options.visible_items<f.num_items&&c(a,f.viewport):g.dx>g.swipeTreshold&&g.endTime<g.allowedTime&&f.current>0&&d(a,f.viewport):g.dy<-g.swipeTreshold&&g.endTime<g.allowedTime?f.current+f.options.visible_items<f.num_items&&c(a,f.viewport):g.dy>g.swipeTreshold&&g.endTime<g.allowedTime&&f.current>0&&d(a,f.viewport)})}),f.current<=0&&f.prev.hide(),f.current+f.options.visible_items<f.num_items&&f.next.show();break;case"yes":var l=0,m=[];for(f.current-=f.options.scrolling_items,f.current<0&&(f.current+=f.num_items),h=f.current;h<f.current+f.options.scrolling_items;h++){var n=h;h>=f.num_items&&(n=h-f.num_items),j+=f.item.eq(n).outerWidth(!0),m[l]=n,l++}for(i=f.current;i<f.current+f.options.visible_items;i++){var o=i;i>=f.num_items&&(o=i-f.num_items),k+=f.item.eq(o).outerWidth(!0)}var p=f.item.first().position(),q=p.left-f.wrapper_width;for(k5=0;k5<m.length;k5++)if(f.item.eq(m[k5]).css("left",q),0==m[k5]){var r=f.item.eq(0).position(),s=r.left-f.wrapper_width;for(k6=0;k5>k6;k6++)f.item.eq(m[k6]).css("left",s)}setTimeout(function(){f.viewport.animate({width:k}),f.item.animate({left:"+="+j},f.options.speed,f.options.easing),f.item.promise().done(function(){f.next.on("click touchstart touchend",c),f.prev.on("click touchstart touchend",d),f.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];g.dx=b.pageX-g.ox,g.dy=b.pageY-g.oy,g.endTime=(new Date).getTime()-g.startTime,"horizontal"==f.options.orientation?g.dx<-g.swipeTreshold&&g.endTime<g.allowedTime?c(a,f.viewport):g.dx>g.swipeTreshold&&g.endTime<g.allowedTime&&d(a,f.viewport):g.dy<-g.swipeTreshold&&g.endTime<g.allowedTime?c(a,f.viewport):g.dy>g.swipeTreshold&&g.endTime<g.allowedTime&&d(a,f.viewport)})})},200)}break;case"vertical":var t=0,u=0;switch(f.options.circular){case"no":default:for(f.current-=f.options.scrolling_items,h=f.current;h<f.current+f.options.scrolling_items;h++)t+=f.item.eq(h).outerHeight(!0);for(i=f.current;i<f.current+f.options.visible_items;i++)u+=f.item.eq(i).outerHeight(!0);f.viewport.animate({height:u}),f.item.animate({top:"+="+t},f.options.speed,f.options.easing),f.item.promise().done(function(){f.next.on("click touchstart touchend",c),f.prev.on("click touchstart touchend",d),f.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];g.dx=b.pageX-g.ox,g.dy=b.pageY-g.oy,g.endTime=(new Date).getTime()-g.startTime,"horizontal"==f.options.orientation?g.dx<-g.swipeTreshold&&g.endTime<g.allowedTime?f.current+f.options.visible_items<f.num_items&&c(a,f.viewport):g.dx>g.swipeTreshold&&g.endTime<g.allowedTime&&f.current>0&&d(a,f.viewport):g.dy<-g.swipeTreshold&&g.endTime<g.allowedTime?f.current+f.options.visible_items<f.num_items&&c(a,f.viewport):g.dy>g.swipeTreshold&&g.endTime<g.allowedTime&&f.current>0&&d(a,f.viewport)})}),f.current<=0&&f.prev.hide(),f.current+f.options.visible_items<f.num_items&&f.next.show();break;case"yes":var l=0,m=[];for(f.current-=f.options.scrolling_items,f.current<0&&(f.current+=f.num_items),h=f.current;h<f.current+f.options.scrolling_items;h++){var n=h;h>=f.num_items&&(n=h-f.num_items),t+=f.item.eq(n).outerHeight(!0),m[l]=n,l++}for(i=f.current;i<f.current+f.options.visible_items;i++){var o=i;i>=f.num_items&&(o=i-f.num_items),u+=f.item.eq(o).outerHeight(!0)}var p=f.item.first().position(),v=p.top-f.wrapper_height;for(k5=0;k5<m.length;k5++)if(f.item.eq(m[k5]).css("top",v),0==m[k5]){var r=f.item.eq(0).position(),w=r.top-f.wrapper_height;for(k6=0;k5>k6;k6++)f.item.eq(m[k6]).css("top",w)}setTimeout(function(){f.viewport.animate({height:u},f.options.speed,f.options.easing),f.item.animate({top:"+="+t},f.options.speed,f.options.easing),f.item.promise().done(function(){f.next.on("click touchstart touchend",c),f.prev.on("click touchstart touchend",d),f.viewport.on("touchend",function(a){if(void 0==a.originalEvent.touches)var b=a;else var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];g.dx=b.pageX-g.ox,g.dy=b.pageY-g.oy,g.endTime=(new Date).getTime()-g.startTime,"horizontal"==f.options.orientation?g.dx<-g.swipeTreshold&&g.endTime<g.allowedTime?c(a,f.viewport):g.dx>g.swipeTreshold&&g.endTime<g.allowedTime&&d(a,f.viewport):g.dy<-g.swipeTreshold&&g.endTime<g.allowedTime?c(a,f.viewport):g.dy>g.swipeTreshold&&g.endTime<g.allowedTime&&d(a,f.viewport)})})},200)}}return e[a]=f,e},start:function(c){c=b(c);var d=e[c];switch(0!=d.timer&&clearInterval(d.timer),d.options.direction){case"left":case"up":default:d.timer=setInterval(function(){d.next.off(),d.prev.off(),d.viewport.off("touchend"),a.fn.als("next",c)},d.options.interval);break;case"right":case"down":d.timer=setInterval(function(){d.prev.off(),d.next.off(),d.viewport.off("touchend"),a.fn.als("prev",c)},d.options.interval)}return e[c]=d,e},stop:function(a){a=b(a);var c=e[a];return clearInterval(c.timer),e[a]=c,e},destroy:function(){id=b(a(this).attr("data-id"));var c=e[id];c.prev.off(),c.next.off(),c.viewport.off(),a.fn.als("stop",id),a.removeData(c,"als"),this.unbind(),this.element=null}};a.fn.als=function(b){return g[b]?g[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.als"):g.init.apply(this,arguments)}}(jQuery);var commontObj={init:function(){this.header(),this.nav(),this.fixed(),this.menu(),this.indexpage()},header:function(){$(".qrdown").hover(function(){$(this).find(".dropdown-con").toggleClass("qrshow")},function(){$(this).find(".dropdown-con").toggleClass("qrshow")})},nav:function(){layui.use("element",function(){layui.element})},fixed:function(){$(".popoverBtn").popover({html:!0}),$(".servepopoverBtn").popover(),$(window).scroll(function(){var a=$(this).scrollTop();a>=30&&($("#navbar").addClass("navbar-fixed-top"),$(".main-bg").addClass("mt30")),a<30&&($("#navbar").removeClass("navbar-fixed-top"),$(".main-bg").removeClass("mt30")),a>=850&&$(".fixed-goTop").show(),a<850&&$(".fixed-goTop").hide()}),$(".fixed-goTop ").click(function(){return $("html,body").animate({scrollTop:0},500),!1}),$(".fixed-download").hover(function(){$(this).find(".popover").show()},function(){$(this).find(".popover").hide()})},menu:function(){$(".info-menu").hover(function(){$("#infoMenu").toggleClass("menu-show")},function(){$("#infoMenu").toggleClass("menu-show")}),$("#infoMenu li").hover(function(){$(".menu-bar").css({top:$(this).position().top,opacity:1})},function(){$(".menu-bar").css({top:$(".menu-this").position(),opacity:0})})},indexpage:function(){$("body").running(),$(".notice ul li").length>1&&$(".notice").als({visible_items:1,scrolling_items:1,orientation:"vertical",circular:"yes",autoscroll:"yes",direction:"up",start_from:0}),$(".collapse").on("show.bs.collapse hide.bs.collapse",function(){$(this).parents(".dynamic-item").toggleClass("shown"),$(this).siblings(".dynamic-h").find(".dy-h4").eq(0).toggleClass("bold")})}};$(function(){commontObj.init(),$(window).trigger("scroll"),$("span[href=#collapseExample1]").trigger("click")});